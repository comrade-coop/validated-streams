version: "3.3"
services:
  validator1:
    stdin_open: true
    tty: true
    container_name: validator1
    build: ..
    image: comradecoop/validated-streams
    ports:
      - "5556:5555"
    command: --alice
    networks:
     mynetwork:
       ipv4_address: 172.19.0.2
  validator2:
    stdin_open: true
    tty: true
    container_name: validator2
    build: ..
    image: comradecoop/validated-streams
    ports:
      - "5557:5555"
    command: --bob
    networks:
      mynetwork:
        ipv4_address: 172.19.0.3
  validator3:
    stdin_open: true
    tty: true
    container_name: validator3
    build: ..
    image: comradecoop/validated-streams
    ports:
      - "5558:5555"
    command: --charlie
    networks:
      mynetwork:
        ipv4_address: 172.19.0.4
  validator4:
    stdin_open: true
    tty: true
    container_name: validator4
    build: ..
    image: comradecoop/validated-streams
    ports:
      - "5559:5555"
    command: --dave
    networks:
      mynetwork:
        ipv4_address: 172.19.0.5
  syncnode:
    stdin_open: true
    tty: true
    container_name: syncnode
    build: ..
    image: comradecoop/validated-streams
    ports:
      - "9944:9944"
    command: --eve "--ws-port 9944" --unsafe-ws-external
    networks:
      mynetwork:
        ipv4_address: 172.19.0.6
networks:
  mynetwork:
    driver: bridge
    ipam:
      config:
        - subnet: 172.19.0.0/16
